
<script id="gun_cdn_script" src="https://cdn.jsdelivr.net/npm/gun/gun.js"></script>
<script id="sea_cdn_script" src="https://cdn.jsdelivr.net/npm/gun/sea.js"></script>

<div><button onclick="btn_click()">Test local gun</button>
<button onclick="window.frames.frame.postMessage('btn2','https://maygame.xxx');">Btn2</button>
<!-- <button onclick="" -->
</div>
<iframe src="content/v1/frames/hud.html" name='frame'>
    
</iframe>

<script>
var domain = 'https://maygame.xxx'
let peers =[]
var gun = new Gun({localStorage:false})
const appInterface = Gun({peers:peers, localStorage:false});
/* setup listeners for debugging */

appInterface._.on('in', function (msg) {
  console.log('appInterface IN:', msg);
})

appInterface._.on('out', function (msg) {
  console.log('appInterface OUT:', msg);
  // send this msg to the other main User instance
//   apptoMain(msg);
})
function apptoMain(){

}
window.onmessage=(e)=>console.log('parent_onmessage',e)
function btn_click(){
gun.get('test').get('stuff').put({'kata':'btn_clicked'})
}
gun.get('test').get('stuff').on((e)=>console.log('kata window, ontest/stuff:',e))

</script>