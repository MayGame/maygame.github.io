<script src="https://cdn.jsdelivr.net/npm/gun/gun.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gun/sea.js"></script>
<!--  -->
<button onclick="hide_not_implemented()">Hide not implemented stuff</button>
<br>
<br>
<br>
<label>Paste your key here to log in</label>
<textarea id="pasted_key" value='{"pub":"8zkWXFT6Qe9RKQ8l93IflY_w2CRz5oX2o1j6FCL36BY.WTdOwlnHfIkKxYV6LlOTtrBE4uD-9PPSQlNxcK9Cit8","priv":"S1iBnLH4Y0vnl72EWcV1wb91p5Ufy0FsDQ7o9ageNkc","epub":"Hmtozeo-xeNjaTcl9CPYf1kFH90Hg5KQt9L_oKKvL1U.gPYL1WQNI5_0UZ-fCyhT_EN-lFpzezC7fB8LjRGQD6g","epriv":"HbIViA2JjfJauUL_ziDrFNar3LVZxJgJHkvh751kkiM"}'></textarea><br>
<button onclick="key_pasted()">Submit</button><br>
<br>
<br>
<br>
<label>Your key</label>
<textarea id="current_key" placeholder="not logged in"></textarea><br>
<button onclick="log_key()">Log my key</button><br>
<br>
<br>
<br>
<p>Or create a new one <button onclick="create_key()">Create key</button></p>
<div class="not_implemented">
<p>Enter your login/password to decrypt your key saved elsewhere.</p>
<label>Where</label>
<input type="text" id="server" value="https://vine-mature-morocco.glitch.me/gun" placeholder="your_node.address/gun"><br>
<label>Login</label>
<input type="text" id="login" value="YetAnotherGuy"><br>
<label>Password</label>
<input type="password" id="password" value="MJ4e"><br>
<button onclick="alert('Not implemented yet')">login</button>
</div>
<br>
<br>
<br>
<br>
<input list="dl_pages" id="page_version" placeholder="page version to load">
<datalist id="dl_pages">
    <option value="1"></option>
</datalist>
<button>Load page version <a id="page_version"></a></button>
<!--  -->
<!--  -->
<script>
var sea = Gun.SEA
var temp_key = null
function hide_not_implemented(){
    var all = document.getElementsByClassName("not_implemented")
    Array.prototype.forEach.call(all, function(el){
    el.style.display="none";
    })}
function key_pasted(){
    var val = document.getElementById("pasted_key").value
    temp_key = val
    document.getElementById("current_key").value=temp_key;
    temp_key=JSON.parse(val)
}
async function create_key() {
temp_key =  await sea.pair();
document.getElementById("current_key").value=JSON.stringify(temp_key);
}
function log_key(){
    console.log(temp_key)
}
</script>