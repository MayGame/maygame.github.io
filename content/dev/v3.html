<button onclick="try_do(goal);">J</button>
<button onclick="console.log(goal);">log</button>
<br><label for="test_mode_checkbox">Test mode</label><input type="checkbox" onchange="
trusted_loop_flag=!trusted_loop_flag; test_loop_flag=!test_loop_flag;">
<script>
    var goal = {name:'build fluggegecheimen',reward:200,}
    // var goal = {name:'build fluggegecheimen',reward:200,algs:[1,2,3]}
    var flugge_alg1='alg1';
    var flugge_alg2='alg2';
    function try_do(goal){
        if(!goal){console.log('!goal'); return;}
        if(!goal.algs){console.log('!algs');goal.algs=[]; return;}
        if(!goal.algs.length){console.log('!algs.len');try_add_alg(goal);return;}
        // console.log(goal?.algs?.length)
        for(let i=0;i<goal.algs.length;i++)
        console.log(goal.algs[i])
        try_add_alg(goal)
    }
    function try_add_alg(goal){
        if(goal.algs.length<1)
        goal.algs.push(flugge_alg1)
        else
        goal.algs.push(flugge_alg2)
    }
    class Action{
        constructor(calcback,version,context,meta)
        {   
            this.name = meta.name;
            this.description = meta.description;
            this.version='Js';
            this.calcback=calcback;//function, that is used for
        }
        calc_result(params) {
            //returns predicted result for that action being done

        }
        description(){
            return 'this is an action. No more results available'
        }
        learn_predict(){
            //log... process, see results. expected ones and actual ones
        }
    }
    var trusted_loop_flag=true;
    var test_loop_flag=false;
    function trusted_loop(){//things that are being done unconditionaly
    setTimeout(function(){
        if(trusted_loop_flag){
            console.log('trusted loop')
        }
            trusted_loop();},700);
}
trusted_loop();
    
    function untrusted(){//iterated manually with confirmation


    }
    function test_loop(){//modified version. runs until abort condition is triggered

    }
    var state={source:{local_gun_soul:'key/gun/soul/for_example'},
    trust: 0.9, confidence: 0.9,
    value_: 'high', is_a: 'todo'};
    var var_validate;                                                                                                            
    var var_validate_source;
    
</script>
<script>
var system={};
system.ui={};
system.ui.problems={};
class Problem{
    constructor(){
        this.scope={}
        this.solutions=[]
    }

}
class Solution{
    constructor(){
        this.alg='';
        this.context='';
        this.cost='';

    }
}
/**
 * solution example:
 * do A N times, where A solves part (action, times)
 * 
*/



    /*
100k gems spent on 6* chests: (80 skip +20 bread per)
1000 chests
60 seals
120 orange shards
8000 gems
120 hss
600 slots
240 caps
180 5* elite
140x8 5* shards (22.4 sets)
56m juice
35m gold
48k chisels
48k plateau repas
1500 serv cristals
4000 flash drives
240 scrolls
*/
/*
1000 5*chests:
1000 5* shards (20 sets)
40k chisels
40k plateau repas
50m juice
30m gold
360 slots 
240 scrolls
240 red ant
120 elite
120 caps
120 hss
5000 gems
1000 serv cristals
3000 flashes
*/
/*
1000 4* chests:
40 elite                    1200
60 scrolls                  600
240 slots                   6000
2400 gems                   2400
25200 plateau repas         1260        1000=2m gold = 50 gems
25200 chisels               0
50m gold                    1250
50m juice                   1250
3000 4* shards (100 sets)   4000
800 5*shards(16 sets)       6400
cookies = 0                 
total                       24360
*/
</script>